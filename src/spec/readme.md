1. GET /trucks
Метод и путь:
– GET /trucks

Пропускная способность:
– 200 запросов/с

Время отклика:
– P95 < 150 мс;
– P99 < 300 мс.

Таймаут:
– Клиент: 3 с;
– Сервер: 2 с.

Размер сообщения:
– В среднем ~10 КБ;
– Максимум ~100 КБ.

Актуальность данных:
– Обновление GPS не реже 5 с;
– Кэш TTL = 5 с.

Временной режим работы:
– 24/7, SLA 99 % (до 7 ч 12 мин простоя в мес.).

Ограничения:
– Зона запроса: вокруг координат клиента;
– Rate limit: 10 000 запросов/ч;
– OAuth2.

2. POST /orders
Метод и путь:
– POST /orders

Пропускная способность:
– 100 запросов/с

Время отклика:
– P95 < 250 мс;
– P99 < 500 мс.

Таймаут:
– Клиент: 5 с;
– Сервер: 4 с.

Размер сообщения:
– В среднем ~5 КБ;
– До 30 КБ.

Актуальность данных:
– Справочник рецептов кэшируется 60 с;
– Заказ обрабатывается в реальном времени.

Временной режим работы:
– 6:00–23:00, SLA 99 % (за счёт плановых окон обслуживания возможен простой до 7 ч 12 мин/мес.);
– Вне часов работы — HTTP 503.

Ограничения:
– Не более 10 активных заказов на пользователя;
– JWT-аутентификация;
– Предавторизация платежа.

3. GET /orders
Метод и путь:
– GET /orders

Пропускная способность:
– 150 запросов/с

Время отклика:
– P95 < 200 мс;
– P99 < 400 мс.

Таймаут:
– Клиент: 4 с;
– Сервер: 3 с.

Размер сообщения:
– 20 заказов ~ 40 КБ;
– 100 заказов ~ 200 КБ.

Актуальность данных:
– Обновление статусов в реальном времени.

Временной режим работы:
– 24/7, SLA 99 % (до 7 ч 12 мин простоя в мес.).

Ограничения:
– Пагинация page/perPage;
– perPage ≤ 50.

4. POST /menu
Метод и путь:
– POST /menu

Пропускная способность:
– 100 запросов/с

Время отклика:
– P95 < 180 мс;
– P99 < 350 мс.

Таймаут:
– Клиент: 4 с;
– Сервер: 3 с.

Размер сообщения:
– 10 рецептов ~ 15 КБ;
– 50 рецептов ~ 75 КБ.

Актуальность данных:
– Ежедневное обновление в 02:00;
– CDN-кэш TTL = 300 с.

Временной режим работы:
– 24/7, SLA 99 % (до 7 ч 12 мин простоя в мес.).

Ограничения:
– Фильтр до 5 продуктов;
– ≤ 3 уровня вложенности фильтрации.
